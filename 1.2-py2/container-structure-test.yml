schemaVersion: 2.0.0

fileExistenceTests:
  # libtorrent-rasterbar files
  - name: "libtorrent.a"
    path: "/usr/lib/libtorrent.a"
    shouldExist: true
    permissions: "-rwxr-xr-x"
  - name: "libtorrent-rasterbar.so"
    path: "/usr/lib/libtorrent-rasterbar.so.10"
    shouldExist: true
    permissions: "Lrwxrwxrwx"

commandTests:
  # Python tests (https://dev.deluge-torrent.org/wiki/Building/libtorrent#UbuntuDebian)
  - name: "Python 2"
    command: "python"
    args: ["-c", "import libtorrent; print libtorrent.version "]
    expectedOutput: ["1.2"]
    excludedError: [".+"]
    exitCode: 0
  - name: "Python 3"
    command: "python3"
    args: ["-c", "import libtorrent; print(libtorrent.version)"]
    expectedOutput: ["1.2"]
    excludedError: [".+"]
    exitCode: 0
